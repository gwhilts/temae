<div id="task-form">
<%= form_for(@task) do |f| %>
  <% if @task.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@task.errors.count, "error") %> prohibited this task from being saved:</h2>
      <ul>
      <% @task.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div id="task-name" class="field row">
    <div class="small-2 columns"><%= f.label :name, class: 'text-right middle' %></div>
    <div class="small-10 columns"><%= f.text_field :name %></div>
  </div>
  <div id="task-context" class="field row">
    <div class="small-2 columns"><%= f.label :context, class: 'text-right middle' %></div>
    <div class="small-10 columns"><%= context_selector(@context_menu, @task) %></div>
  </div>
  <div id="task-project" class="field row">
    <div class="small-2 columns"><%= f.label :project, class: 'text-right middle' %></div>
    <div class="small-10 columns"><input type="text" value="miscellaneous" /></div>
  </div>
  <div class="row">
    <div id="dueDatePicker" class="date field datePicker" data-date-format="dd MM yyyy">
      <div class="small-2 columns prefix"><%= f.label :start, class: 'text-right middle' %></div>
      <div class="small-4 columns" style="float: left;">
        <%= f.text_field :start %>
      </div>
    </div>
    <div id="dueDatePicker" class="date field datePicker" data-date-format="dd MM yyyy">
      <div class="small-1 columns prefix"><%= f.label :due, class: 'text-right middle' %></div>
      <div class="small-5 columns">
        <%= f.text_field :due %>
      </div>
    </div> 
  </div>
  <div class="row">
    <div class="actions small-3 small-centered columns text-right">
      <%= f.submit %>
    </div>
  </div>  
<% end %>
</div>

<script>
$(function(){
  $('.datePicker').fdatepicker();
});
</script>

